(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95618,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function a({keyName:e,label:a,color:r="#22d3ee",pollMs:l=5e3}){let[i,c]=(0,s.useState)(0),[d,n]=(0,s.useState)(!0),o=(0,s.useRef)(0);async function x(){try{let t=await fetch("/api/badge",{cache:"no-store"}),s=await t.json(),a=s?.counts?.[e]??0;o.current=i,c(a)}finally{n(!1)}}return(0,s.useEffect)(()=>{x();let e=setInterval(x,l);return()=>clearInterval(e)},[l,e]),(0,t.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm opacity-80",children:a}),(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border px-3 py-1 font-mono",style:{borderColor:r+"66",background:r+"14",color:r},title:d?"Loading…":String(i),children:[(0,t.jsx)("span",{className:"inline-block h-2.5 w-2.5 rounded-full shadow-[0_0_10px]",style:{backgroundColor:r,boxShadow:`0 0 16px ${r}66`}}),d?"…":i.toLocaleString()]})]})}e.s(["default",()=>a])},77490,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(95618);function r({items:e}){let[a,r]=(0,s.useState)(e[0]?.key||"svg"),l=e.find(e=>e.key===a);async function i(){try{await navigator.clipboard.writeText(l?.code||"")}catch{}}return(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-black/30",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-3 pt-3",children:[(0,t.jsx)("div",{className:"flex gap-1",children:e.map(e=>(0,t.jsx)("button",{onClick:()=>r(e.key),className:`px-3 py-2 rounded-t-xl text-sm border-b-2 ${e.key===a?"border-accent text-white":"border-transparent text-muted hover:text-white/80"}`,children:e.label},e.key))}),(0,t.jsx)("button",{onClick:i,className:"text-xs px-2 py-1 rounded-lg border border-white/10 bg-zinc-800 hover:bg-zinc-700",children:"Copy"})]}),(0,t.jsx)("pre",{className:"p-3 overflow-x-auto text-xs leading-relaxed border-t border-white/10",children:(0,t.jsx)("code",{children:l?.code||""})})]})}function l(){let e=(0,s.useMemo)(()=>[{key:"views",label:"Views",color:"#22d3ee"},{key:"orders",label:"Orders",color:"#34d399"},{key:"signups",label:"Signups",color:"#a78bfa"}],[]),[l,i]=(0,s.useState)(!1);async function c(e,t=1){await fetch("/api/badge",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({key:e,delta:t})})}return(0,t.jsxs)("div",{className:"mt-8 space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"text-sm text-muted",children:"Live demo (polls the JSON API). Toggle demo admin mode to simulate traffic."}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("input",{type:"checkbox",checked:l,onChange:e=>i(e.target.checked)}),"Demo Admin Mode"]})]}),(0,t.jsx)("div",{className:"grid sm:grid-cols-3 gap-4",children:e.map(({key:e,label:s,color:r})=>(0,t.jsxs)("div",{className:"rounded-xl border border-white/10 bg-black/30 p-4 flex items-center justify-between",children:[(0,t.jsx)(a.default,{keyName:e,label:s,color:r}),l&&(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>c(e,1),className:"px-2 py-1 rounded bg-zinc-800 border border-white/10 hover:bg-zinc-700",children:"+1"}),(0,t.jsx)("button",{onClick:()=>c(e,10),className:"px-2 py-1 rounded bg-zinc-800 border border-white/10 hover:bg-zinc-700",children:"+10"})]})]},e))}),(0,t.jsx)("div",{className:"grid gap-6",children:e.map(({key:e,label:s,color:a})=>{let l=`<img src="/api/badge/svg?key=${e}&label=${encodeURIComponent(s)}&color=%23${a.replace("#","")}" alt="${s}" />`,i=`<!-- Place this where you want the number to appear -->
<div>${s}: <span id="${e}Count">…</span></div>
<script>
  async function refresh${e.charAt(0).toUpperCase()+e.slice(1)}() {
    const res = await fetch("/api/badge", { cache: "no-store" });
    const { counts } = await res.json();
    document.getElementById("${e}Count").textContent =
      (counts.${e} ?? 0).toLocaleString();
  }
  refresh${e.charAt(0).toUpperCase()+e.slice(1)}();
  setInterval(refresh${e.charAt(0).toUpperCase()+e.slice(1)}, 5000);
</script>`,c=`import LiveBadge from "@/components/LiveBadge";

export default function Badge_${e}() {
  return <LiveBadge keyName="${e}" label="${s}" color="${a}" />;
}`;return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"text-lg font-medium",children:[s," — Exact Code"]}),(0,t.jsx)("div",{className:"text-xs text-muted",children:"SVG • Vanilla JS • React"})]}),(0,t.jsx)(r,{items:[{key:"svg",label:"SVG Embed",code:l},{key:"js",label:"Vanilla JS (Fetch)",code:i},{key:"react",label:"React Component",code:c}]})]},e)})}),(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Auto-Updating Example"}),(0,t.jsx)("img",{src:"/api/badge/track?key=views",alt:"",width:1,height:1,style:{position:"absolute",left:-9999}}),(0,t.jsx)("img",{src:"/api/badge/svg?key=views&label=Views&color=%2322d3ee",alt:"Views"}),(0,t.jsx)("span",{className:"text-xs text-muted",children:"Counts a view on each page load."})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)("div",{className:"text-sm text-muted",children:"Drop this 1×1 pixel anywhere on a page:"}),(0,t.jsx)("pre",{className:"p-3 overflow-x-auto text-xs leading-relaxed rounded border border-white/10 bg-black/40",children:(0,t.jsx)("code",{children:'<img src="/api/badge/track?key=views" alt="" width="1" height="1" style="position:absolute;left:-9999px;" />'})}),(0,t.jsx)("div",{className:"text-sm text-muted",children:"Then embed the badge:"}),(0,t.jsx)("pre",{className:"p-3 overflow-x-auto text-xs leading-relaxed rounded border border-white/10 bg-black/40",children:(0,t.jsx)("code",{children:'<img src="/api/badge/svg?key=views&label=Views&color=%2322d3ee" alt="Views" />'})})]})]})]})}e.s(["default",()=>l])}]);